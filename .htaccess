# Configuração para servir arquivos CSV corretamente
<Files *.csv>
    ForceType text/csv
    Header set Content-Disposition "attachment; filename=%{BASENAME}s"
    Header set Content-Type "text/csv; charset=UTF-8"
</Files>

# Habilitar cabeçalhos personalizados
<IfModule mod_headers.c>
    <FilesMatch "\.csv$">
        Header set Access-Control-Allow-Origin "*"
        Header set Access-Control-Allow-Methods "GET, OPTIONS"
        Header set Access-Control-Allow-Headers "DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range"
    </FilesMatch>
</IfModule>

# Desativar cache para arquivos CSV
<IfModule mod_expires.c>
    <FilesMatch "\.csv$">
        ExpiresActive Off
        Header set Cache-Control "no-cache, no-store, must-revalidate"
        Header set Pragma "no-cache"
        Header set Expires 0
    </FilesMatch>
</IfModule>

# Configuração alternativa para mod_mime
<IfModule mod_mime.c>
    AddType text/csv .csv
</IfModule>

# Configuração para evitar que os arquivos CSV sejam interpretados como PHP
<FilesMatch "\.csv$">
    SetHandler None
    SetHandler default-handler
</FilesMatch> 